ROOM: $guardpost_above_church


DESCRIPTION:
You enter a small, circular room. There are exits on three sides, all marked with crude writing.


[[CODE]]
if (justCameFrom(w, "smelter")) { 
  s.add("""The passage you came from is marked with the words "Hot iron", which must mean "smelter" in the orcs' vocabulary. Another one has the words "Unholy Church" above it. Both of these slope downwards.
""", wholeSentence: true);
}
[[/CODE]]


[[CODE]]
if (justCameFrom(w, "underground_church")) { 
  s.add("""The passage you came from is marked with the words "Unholy Church". Another one has the words "Hot iron" above it, which must mean "smelter" in the orcs' vocabulary. Both of these slope downwards.
""", wholeSentence: true);
}
[[/CODE]]


A third passage is marked "Up Door", and a few paces beyond the opening, it turns into a steep stairway upwards. This is it, if you're ready for it. Your final path to escape, an end to those three horrible years. For the first time, you see a smile on Briana's face. Not a smirk or an angry taunt of a laugh, but a genuine smile. "_Up Door?_" she whispers, shaking hear head. "I can't believe we've made it this far."


Leaning on the wall next to the third exit is a goblin guard. He's sleeping. He holds a scimitar in one hand, and there's a shield laid on his lap.




SHORT_DESCRIPTION: 
[[CODE]]
  if (w.actionHasBeenPerformed("guardpost_above_church_take_shield") && !w.actionHasBeenPerformedSuccessfully("guardpost_above_church_take_shield")) {
    s.add("The goblin's corpse is sprawled on the ground in the middle of the circular room.");
  } else {
    s.add("The goblin is sleeping soundly next to the exit to the Upper Door.");
  }
[[/CODE]]


EXITS:
$underground_church (Descend towards the Underground Church): You take the passage leading down towards the temple. 
$smelter (Go to the smelter): You take the slightly downwards passage towards the smelter.




// ------


ACTION: $guardpost_above_church_enter_tunnel_with_cancel
COMMAND: Go to the Upper Gate


FOR_LOCATION: $guardpost_above_church


COMPLETE_SUCCESS_PROBABILITY: 100%


COMPLETE_SUCCESS_DESCRIPTION: 
You take the passage that leads to the Upper Door.


SUCCESS_EFFECT: 
enterTunnelWithCancel(w, s);